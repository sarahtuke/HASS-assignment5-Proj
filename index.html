<!DOCTYPE html>
<meta charset="utf-8">

<!-- Libaries Loaded -->
    <!-- D3 -->
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script> 
    <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>

    <!-- W3 -->
    <script src="https://www.w3schools.com/lib/w3.js"></script>

<!-- API's Integrated -->

    <!-- GEE (Google Earth Engine) -->



<!-- CSS Style -->
    <style>

    .tooltip {
        position: absolute;
        background-color: #fff;
        padding: 10px;
        border: 1px solid #046468;
        border-radius: 5px;
        pointer-events: none;
        opacity: 0;
        }

        body {
            font-family: "Roboto", helvetica, arial, sans-serif;
            display: block;
            margin: auto;
            width: 100%;
            text-align: center;
            font-size: 20px;
        }
        h1 {
        margin: 0px;
        font-size: 30px;
        font-weight: 400;
        font-style:normal;
        color: #fff;
        text-transform:uppercase;
        }
        h2 {
        margin: 2px;
        font-size: 20px;
        font-weight: 400;
        font-style:normal;
        color: #fff;
        text-transform:uppercase;
        }
    
            @keyframes scroll {
                0% { transform: translateX(100%); }
                100% { transform: translateX(-100%); }
        }

            .scrolling-text {
                position: relative;
                font-family: "Roboto", helvetica, sans-serif;
                font-size: 20px;
                white-space: nowrap;
                overflow: hidden;
                display: block;
                color: #fff;
        }

            .scrolling-text p {
                display: inline-block;
                padding-left: 5%; /* Initial offset */
                animation: scroll 50s linear infinite; /* Adjust the timing to control the speed */
        }

        a {
        color: black;
    }

        body {
        margin: 50;
        }

    </style>

<!-- Background Style -->
    <body style="background-color: #081129;">

<!-- Containers: where the maps and Graphs will take place
    <div id="Mp1_Atlas" width="500" height="300" class="w3-center"></div> 
    <svg id="Mp1_Atlas" width="1400" height="900" viewBox="0 0 1400 900" class="w3-center"></svg>
-->
    <svg id="Mp1_Atlas"></svg>
    
    <!--
    <div id="Video" width="500" height="300"></div>
    <div id="Graphs" width="500" height="300"></div>
    <div id="Mp2_Coast" width="500" height="300"></div>
    -->

<!--Define Tooltip -->
    <div class="tooltip"></div>




<!--JS Script-->
<script>
// -------------------------------------- Div 1:: id: Mp1_Atlas----------------------------------------------

//dimensions
let width = 1000, height = 600;

let svgAtlas = d3.select("#Mp1_Atlas")
    .attr("viewBox", "0 0 " + width+ " " + height)
    //.attr("width", 1400)
    //.attr("height", 900)
    

// Map and projection
let projection = d3.geoMercator()
    //d3.geoEquirectangular()
        //.center([1.357868, 103.810847]) //Center to Singapore
        .center([105, -5]) // Rough central point for Southeast Asia
        .scale(700)
        .translate([(width/2)-150, (height/2)+125])

let geopath = d3.geoPath().projection(projection);

// Load GeoJSON data
d3.json("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson").then(data => {

       // Filter to include only Southeast Asian countries
       data.features = data.features.filter(function(d) {console.log(d.properties.name); 
        return ["Indonesia", "Malaysia", "Philippines", "Singapore", "Thailand", 
                "Brunei", "Vietnam", "Laos", "Myanmar", "Cambodia"]
                .includes(d.properties.name);
                
    });

    // Draw the map
    svgAtlas.append("g")
        .attr("id", "countries")
        .selectAll("path")
        .data(data.features)
        .enter()
        .append("path")
            .attr("d",  d => geopath(d))
            .attr("fill", "#777")
            .attr("stroke", "#fff")
            .attr("stroke-width", 0.5)
            

//ToolTip 

    .on("mouseover", (event, d) => {
        d3.select(".tooltip")
        .text(d.properties.name)
        .style("position", "absolute")
        .style("background", "#fff")
        .style("left", (event.pageX) + "px")
        .style("top", (event.pageY) + "px");
    })
    .on("mouseout", (event, d) => {
        d3.select(".tooltip")
        .text("");
    })

        })

    

    // -----------------------------------------Div 2:: id: Video----------------------------------------------



    // ---------------------------------------Div 3:: id: Graphs----------------------------------------------



    // --------------------------------------Div 4:: id: Mp2_Coast----------------------------------------------


    </script>
